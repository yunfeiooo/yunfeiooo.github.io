<mxfile host="app.diagrams.net" modified="2021-11-02T07:29:56.344Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Safari/605.1.15" etag="ad9CrOzIZmwJbsa-RZ0m" version="15.6.5" type="github">
  <diagram id="rg0j0zLOtm0iLNIaMDEO" name="Page-1">
    <mxGraphModel dx="1897" dy="690" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="PrEL5BsYyGC61kOJYBMb-70" value="" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;" vertex="1" parent="1">
          <mxGeometry x="-20" y="620" width="410" height="550" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-82" value="" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;align=center;" vertex="1" parent="1">
          <mxGeometry x="-10" y="680" width="190" height="180" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-26" value="" style="rounded=1;whiteSpace=wrap;html=1;fontColor=default;strokeColor=default;fillColor=default;" vertex="1" parent="1">
          <mxGeometry x="430" y="590" width="340" height="410" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-1" target="PrEL5BsYyGC61kOJYBMb-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-1" value="输入图像&lt;br&gt;（B,1,64, 256&amp;nbsp;）" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="150" y="100" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-2" value="输入label&lt;br&gt;（B,25,6666 ）" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="260" y="100" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-3" target="PrEL5BsYyGC61kOJYBMb-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-3" value="backbone" style="rounded=1;whiteSpace=wrap;html=1;fontColor=default;fillColor=default;strokeColor=default;" vertex="1" parent="1">
          <mxGeometry x="140" y="160" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-7" value="" style="whiteSpace=wrap;html=1;rounded=1;fillColor=default;strokeColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="140" y="277.5" width="120" height="152.5" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-9" value="pvam pre" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="150" y="277" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-10" value="" style="rounded=1;whiteSpace=wrap;html=1;fontColor=default;strokeColor=default;fillColor=default;" vertex="1" parent="1">
          <mxGeometry x="430" y="70" width="360" height="390" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-11" value="位置编码" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="460" y="80" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-12" target="PrEL5BsYyGC61kOJYBMb-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-12" value="特征&lt;br&gt;[B, seq_len, feautres]" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="440" y="130" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-13" target="PrEL5BsYyGC61kOJYBMb-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-13" value="位置信息,一般为 range 或者 sin\cos&lt;br&gt;[B, seq_len]" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="560" y="130" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-20" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-14" target="PrEL5BsYyGC61kOJYBMb-19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-14" value="scale&lt;br&gt;*sqrt(seq_len)" style="rounded=1;whiteSpace=wrap;html=1;fontColor=default;strokeColor=default;fillColor=default;" vertex="1" parent="1">
          <mxGeometry x="442.5" y="200" width="125" height="40" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-17" target="PrEL5BsYyGC61kOJYBMb-19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-17" value="Embedding&lt;br&gt;seq_len, features" style="rounded=1;whiteSpace=wrap;html=1;fontColor=default;strokeColor=default;fillColor=default;" vertex="1" parent="1">
          <mxGeometry x="610" y="200" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-19" target="PrEL5BsYyGC61kOJYBMb-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-19" value="sum" style="ellipse;whiteSpace=wrap;html=1;rounded=1;fillColor=default;strokeColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="540" y="290" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-22">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="600" y="490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-22" value="可选，dropout" style="rounded=1;whiteSpace=wrap;html=1;fillColor=default;strokeColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="540" y="380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-25" value="[B, seq_len, features]" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="650" y="240" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-27" value="Transformer" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="442.5" y="620" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-30" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-28" target="PrEL5BsYyGC61kOJYBMb-29">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontColor=default;strokeColor=default;labelBackgroundColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-28" target="PrEL5BsYyGC61kOJYBMb-50">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="730" y="614" />
              <mxPoint x="730" y="820" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-28" value="输入&lt;br&gt;[B, seq_len, features]" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="507.5" y="599" width="185" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-29" target="PrEL5BsYyGC61kOJYBMb-42">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-29" value="layer norm" style="rounded=1;whiteSpace=wrap;html=1;fontColor=default;strokeColor=default;fillColor=default;" vertex="1" parent="1">
          <mxGeometry x="540" y="650" width="120" height="36" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-44" value="" style="group;fillColor=#FFFFCC;strokeColor=none;fontColor=default;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="495" y="700" width="205" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-42" value="Multi head attention" style="rounded=1;whiteSpace=wrap;html=1;fontColor=default;strokeColor=default;fillColor=default;" vertex="1" parent="PrEL5BsYyGC61kOJYBMb-44">
          <mxGeometry width="205" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-51" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-48" target="PrEL5BsYyGC61kOJYBMb-50">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-48" value="dropout" style="whiteSpace=wrap;html=1;rounded=1;fillColor=default;strokeColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="537.5" y="750" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-54" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-50" target="PrEL5BsYyGC61kOJYBMb-53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-61" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;fontColor=default;strokeColor=default;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-50" target="PrEL5BsYyGC61kOJYBMb-59">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="575.0000121332748" y="859.9972413793105" as="sourcePoint" />
            <mxPoint x="580.0000000000011" y="1066.23" as="targetPoint" />
            <Array as="points">
              <mxPoint x="510" y="820" />
              <mxPoint x="510" y="974" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-50" value="sum" style="ellipse;whiteSpace=wrap;html=1;rounded=1;fillColor=default;strokeColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="572.5" y="802.5" width="50" height="35" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-56" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-53" target="PrEL5BsYyGC61kOJYBMb-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-53" value="layer norm" style="whiteSpace=wrap;html=1;rounded=1;fillColor=default;strokeColor=default;fontColor=default;labelBackgroundColor=default;" vertex="1" parent="1">
          <mxGeometry x="537.5" y="850" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-58" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-55" target="PrEL5BsYyGC61kOJYBMb-57">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-55" value="FFN" style="whiteSpace=wrap;html=1;rounded=1;fillColor=default;strokeColor=default;fontColor=default;labelBackgroundColor=default;" vertex="1" parent="1">
          <mxGeometry x="537.5" y="890" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-60" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-57" target="PrEL5BsYyGC61kOJYBMb-59">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-57" value="dropout" style="whiteSpace=wrap;html=1;rounded=1;fillColor=default;strokeColor=default;fontColor=default;labelBackgroundColor=default;" vertex="1" parent="1">
          <mxGeometry x="537.5" y="925" width="120" height="25" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-62" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=default;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-59">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="600" y="1010" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-59" value="sum" style="ellipse;whiteSpace=wrap;html=1;rounded=1;fillColor=default;strokeColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="577.5" y="960" width="40" height="27.5" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-63" value="[B, seq_len, features]" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="622.5" y="963.75" width="125" height="20" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-66" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-42" target="PrEL5BsYyGC61kOJYBMb-48">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-72" value="PVAM &lt;font style=&quot;font-size: 10px&quot;&gt;&amp;nbsp;(parallel visual attention module)&lt;br&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="85" y="620" width="250" height="21" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-75" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-73" target="PrEL5BsYyGC61kOJYBMb-74">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-73" value="Backbone output&lt;br&gt;[B, seq_len, features]" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=default;fontSize=10;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="30" y="640" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-77" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-74" target="PrEL5BsYyGC61kOJYBMb-76">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-74" value="特征位置编码，[B, seq_len], 即 [B, 256]" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;align=left;" vertex="1" parent="1">
          <mxGeometry x="50" y="685" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-79" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-76" target="PrEL5BsYyGC61kOJYBMb-78">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-76" value="transformer" style="whiteSpace=wrap;html=1;rounded=1;fontSize=10;align=center;labelBackgroundColor=default;fillColor=default;strokeColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="45" y="740" width="130" height="27.5" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-81" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-78" target="PrEL5BsYyGC61kOJYBMb-80">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-78" value="transformer" style="whiteSpace=wrap;html=1;rounded=1;fontSize=10;align=center;labelBackgroundColor=default;fillColor=default;strokeColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="45" y="780" width="130" height="27.5" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-87" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-80" target="PrEL5BsYyGC61kOJYBMb-86">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-107" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-80" target="PrEL5BsYyGC61kOJYBMb-105">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="10" y="850" />
              <mxPoint x="10" y="1129" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-80" value="layer norm" style="whiteSpace=wrap;html=1;rounded=1;fontSize=10;align=center;labelBackgroundColor=default;fillColor=default;strokeColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="45" y="822.5" width="130" height="27.5" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-83" value="transformer&lt;br&gt;encoder&lt;br&gt;&lt;br&gt;对应 PVAM 中 的parallel" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=default;fontSize=10;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="-10" y="730" width="60" height="7.5" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-89" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-86" target="PrEL5BsYyGC61kOJYBMb-88">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-86" value="fc (features,&amp;nbsp;features)" style="whiteSpace=wrap;html=1;rounded=1;fontSize=10;align=center;labelBackgroundColor=default;fillColor=default;strokeColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="45" y="870" width="130" height="27.5" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-98" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-88" target="PrEL5BsYyGC61kOJYBMb-95">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-88" value="unsqueeze &amp;amp; tile&amp;nbsp;&lt;br&gt;--&amp;gt; [B, max_text_len, seq_len, features]" style="whiteSpace=wrap;html=1;rounded=1;fontSize=10;align=center;labelBackgroundColor=default;fillColor=default;strokeColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="37.5" y="910" width="145" height="40" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-92" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-90" target="PrEL5BsYyGC61kOJYBMb-91">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-90" value="text 位置&lt;br&gt;[B, max_text_len]" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=default;fontSize=10;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="225" y="740" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-94" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-91" target="PrEL5BsYyGC61kOJYBMb-93">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-91" value="embedding&lt;br&gt;[max_text_len, features]" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;align=center;" vertex="1" parent="1">
          <mxGeometry x="220" y="802.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-96" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-93" target="PrEL5BsYyGC61kOJYBMb-95">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="280" y="1002" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-93" value="unsqueeze &amp;amp; tile&lt;br&gt;--&amp;gt;&amp;nbsp;[B, max_text_len, seq_len, features]" style="whiteSpace=wrap;html=1;rounded=1;fontSize=10;labelBackgroundColor=default;fillColor=default;strokeColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="220" y="890" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-100" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-95" target="PrEL5BsYyGC61kOJYBMb-99">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-95" value="SUM" style="ellipse;whiteSpace=wrap;html=1;rounded=1;fontSize=10;labelBackgroundColor=default;fillColor=default;strokeColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="170" y="987.5" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-102" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-99" target="PrEL5BsYyGC61kOJYBMb-101">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-99" value="tanh" style="whiteSpace=wrap;html=1;rounded=1;fontSize=10;labelBackgroundColor=default;fillColor=default;strokeColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="137.5" y="1030" width="115" height="17.5" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-104" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-101" target="PrEL5BsYyGC61kOJYBMb-103">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-101" value="fc, &amp;nbsp;[feautres, 1]" style="whiteSpace=wrap;html=1;rounded=1;fontSize=10;labelBackgroundColor=default;fillColor=default;strokeColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="137.5" y="1062.5" width="115" height="17.5" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-106" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-103" target="PrEL5BsYyGC61kOJYBMb-105">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-103" value="softmax, align seq_len" style="whiteSpace=wrap;html=1;rounded=1;fontSize=10;labelBackgroundColor=default;fillColor=default;strokeColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="137.5" y="1090" width="115" height="17.5" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-122" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-105" target="PrEL5BsYyGC61kOJYBMb-121">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-105" value="Mat mul" style="whiteSpace=wrap;html=1;rounded=1;fontSize=10;labelBackgroundColor=default;fillColor=default;strokeColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="137.5" y="1120" width="115" height="17.5" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-111" value="[B, seq_len, features]" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=default;fontSize=10;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="107" y="847" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-113" value="[B, max_text_len, seq_len, features]" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=default;fontSize=10;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="210" y="1017.5" width="175" height="20" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-114" value="[B, max_text_len, seq_len,1]" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=default;fontSize=10;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="210" y="1070" width="175" height="20" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-115" value="[B, max_text_len, &lt;font color=&quot;#ff0000&quot;&gt;seq_len&lt;/font&gt;]" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=default;fontSize=10;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="210" y="1100" width="175" height="20" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-116" value="[B, &amp;nbsp;seq_len, features]" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=default;fontSize=10;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="-20" y="1100" width="175" height="20" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-117" value="[B, &amp;nbsp;max_text_len, features]" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=default;fontSize=10;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="112.5" y="1140" width="175" height="20" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-119" value="" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;align=center;" vertex="1" parent="1">
          <mxGeometry x="-680" y="600.5" width="620" height="499.5" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-120" value="&lt;font&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;GSRM&lt;/font&gt;&lt;font style=&quot;font-size: 10px&quot;&gt; (global semantic reasoning module)&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="-610" y="608" width="250" height="21" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-124" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-121" target="PrEL5BsYyGC61kOJYBMb-123">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-127" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-121" target="PrEL5BsYyGC61kOJYBMb-126">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-121" value="fc, [features, num_classes]" style="whiteSpace=wrap;html=1;rounded=1;fontSize=10;labelBackgroundColor=default;fillColor=default;strokeColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="123.75" y="1180" width="142.5" height="22.5" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-123" value="GSRM" style="whiteSpace=wrap;html=1;rounded=1;fontSize=10;labelBackgroundColor=default;fillColor=default;strokeColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="35" y="1250" width="115" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-126" value="PVAM loss" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;align=center;" vertex="1" parent="1">
          <mxGeometry x="210" y="1250" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-130" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-128" target="PrEL5BsYyGC61kOJYBMb-129">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-128" value="PVAM output&lt;br&gt;[B, max_text_len, num_classes]" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=default;fontSize=10;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="-450" y="640" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-132" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-129" target="PrEL5BsYyGC61kOJYBMb-131">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-129" value="arg max, 找到预测的文本" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;align=center;" vertex="1" parent="1">
          <mxGeometry x="-430" y="686" width="120" height="25" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-135" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-131" target="PrEL5BsYyGC61kOJYBMb-133">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-136" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-131" target="PrEL5BsYyGC61kOJYBMb-134">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-131" value="处理产生2个序列&lt;br&gt;1. 原始的预测文本&lt;br&gt;2. 向右偏移一位" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;align=center;" vertex="1" parent="1">
          <mxGeometry x="-430" y="728.5" width="120" height="39" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-138" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-133" target="PrEL5BsYyGC61kOJYBMb-137">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-133" value="预测序列1&lt;br&gt;[[1, 2, 3, ... , end], ...]" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=default;fontSize=10;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="-550" y="790" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-141" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-134" target="PrEL5BsYyGC61kOJYBMb-140">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-134" value="预测序列2&lt;br&gt;[[gsrn_start, 1, 2, 3, ..., end ], ...]" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=default;fontSize=10;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="-310" y="790" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-172" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-137" target="PrEL5BsYyGC61kOJYBMb-171">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-197" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-137" target="PrEL5BsYyGC61kOJYBMb-144">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-137" value="embedding&lt;br&gt;[&lt;font color=&quot;#ff0000&quot;&gt;num_classes+1&lt;/font&gt;, features]" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;align=center;" vertex="1" parent="1">
          <mxGeometry x="-550" y="855" width="120" height="35" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-198" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-140" target="PrEL5BsYyGC61kOJYBMb-156">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-140" value="embedding&lt;br&gt;[&lt;font color=&quot;#ff0000&quot;&gt;num_classes+1&lt;/font&gt;, features]" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;align=center;" vertex="1" parent="1">
          <mxGeometry x="-306.25" y="855" width="121.25" height="35" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-147" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-144" target="PrEL5BsYyGC61kOJYBMb-146">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-144" value="text 位置编码，&amp;nbsp;&lt;br&gt;[B, max_text_len]" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;align=center;" vertex="1" parent="1">
          <mxGeometry x="-550" y="907" width="120" height="35" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-151" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-146" target="PrEL5BsYyGC61kOJYBMb-150">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-146" value="transformer * 4" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;align=center;" vertex="1" parent="1">
          <mxGeometry x="-550" y="963.25" width="120" height="35" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-149" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-148" target="PrEL5BsYyGC61kOJYBMb-146">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-148" value="attention mask 1&lt;br&gt;上三角矩阵, 上部分被 ignore" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=default;fontSize=10;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="-670" y="958.12" width="90" height="45.25" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-153" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-150" target="PrEL5BsYyGC61kOJYBMb-152">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-150" value="layer norm" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;align=center;" vertex="1" parent="1">
          <mxGeometry x="-550" y="1022" width="120" height="35" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-167" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-152" target="PrEL5BsYyGC61kOJYBMb-166">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-152" value="SUM" style="ellipse;whiteSpace=wrap;html=1;rounded=1;fontSize=10;labelBackgroundColor=default;fillColor=default;strokeColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="-390" y="1018.25" width="40" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-159" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-156" target="PrEL5BsYyGC61kOJYBMb-158">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-156" value="text 位置编码，&amp;nbsp;&lt;br&gt;[B, max_text_len]" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;align=center;" vertex="1" parent="1">
          <mxGeometry x="-300.62" y="907" width="111.25" height="35" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-164" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-158" target="PrEL5BsYyGC61kOJYBMb-163">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-158" value="transformer * 4" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;align=center;" vertex="1" parent="1">
          <mxGeometry x="-300.62" y="966.25" width="111.25" height="35" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-161" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-160" target="PrEL5BsYyGC61kOJYBMb-158">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-160" value="attention mask 1&lt;br&gt;下三角矩阵, 下部分被 ignore" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=default;fontSize=10;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="-160" y="959.62" width="90" height="48.25" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-165" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-163" target="PrEL5BsYyGC61kOJYBMb-152">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-163" value="layer norm" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;align=center;" vertex="1" parent="1">
          <mxGeometry x="-300.62" y="1021.25" width="111.25" height="35" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-175" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-166" target="PrEL5BsYyGC61kOJYBMb-173">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-166" value="GSRM feature" style="whiteSpace=wrap;html=1;rounded=1;fontSize=10;labelBackgroundColor=default;fillColor=default;strokeColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="-430" y="1102" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-168" value="[B, max_text_len, features]" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=default;fontSize=10;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="-390" y="1065" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-174" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-171" target="PrEL5BsYyGC61kOJYBMb-173">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-570" y="1152" />
              <mxPoint x="-515" y="1152" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-171" value="embedding 的 weight&lt;br&gt;[num_classes+1, features]" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;align=center;" vertex="1" parent="1">
          <mxGeometry x="-630" y="1102" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-173" value="matmul&lt;br&gt;[B, max_text_len, features] x [B, features, num_clsses+1] --&amp;gt; [B, max_text_len, features]" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;align=center;" vertex="1" parent="1">
          <mxGeometry x="-630" y="1172" width="230" height="50" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-176" value="" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;align=center;" vertex="1" parent="1">
          <mxGeometry x="-580" y="100" width="350" height="400" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-177" value="&lt;font&gt;&lt;font&gt;VSFD&lt;/font&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;&amp;nbsp;(visual semantic fusion decoder)&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=default;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="-530" y="110" width="250" height="21" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-182" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-178" target="PrEL5BsYyGC61kOJYBMb-181">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-190" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-178" target="PrEL5BsYyGC61kOJYBMb-188">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-178" value="GSRM features&lt;br&gt;[B, max_text, features]" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=default;fontSize=10;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="-580" y="167.5" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-183" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-180" target="PrEL5BsYyGC61kOJYBMb-181">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-191" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-180" target="PrEL5BsYyGC61kOJYBMb-188">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-180" value="PVAM features&lt;br&gt;[B, max_text, features]" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=default;fontSize=10;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="-380" y="167.5" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-185" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-181" target="PrEL5BsYyGC61kOJYBMb-184">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-181" value="caoncat, along features" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;align=center;" vertex="1" parent="1">
          <mxGeometry x="-480" y="247" width="120" height="33" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-187" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-184" target="PrEL5BsYyGC61kOJYBMb-186">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-184" value="fc, [2*features, features]" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;align=center;" vertex="1" parent="1">
          <mxGeometry x="-480" y="300" width="120" height="33" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-189" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-186" target="PrEL5BsYyGC61kOJYBMb-188">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-186" value="sigmoid" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;align=center;" vertex="1" parent="1">
          <mxGeometry x="-480" y="350" width="120" height="33" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-193" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-188" target="PrEL5BsYyGC61kOJYBMb-192">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-188" value="fusion" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;align=center;" vertex="1" parent="1">
          <mxGeometry x="-480" y="397" width="120" height="33" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-195" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-192" target="PrEL5BsYyGC61kOJYBMb-194">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-192" value="fc, [features, num_classes]" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;align=center;" vertex="1" parent="1">
          <mxGeometry x="-490" y="450" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-194" value="final output" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;fillColor=default;gradientColor=none;align=center;" vertex="1" parent="1">
          <mxGeometry x="-490" y="520" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PrEL5BsYyGC61kOJYBMb-196" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=default;fontSize=10;fontColor=default;strokeColor=default;" edge="1" parent="1" source="PrEL5BsYyGC61kOJYBMb-177" target="PrEL5BsYyGC61kOJYBMb-177">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
